# 星瀚邨社区小程序

> 一个为社区居民打造的数字化服务平台，支持微信小程序、小红书小程序和 H5 网页三端访问

这是一个为"星瀚邨"社区小程序设计的，从启动到长期运营的实践路径与方案，遵循"纯免费、靠捐赠维持"的公益原则。

## 技术栈

- **前端**: Taro 4.x + Taroify + React 19
- **后端**: Express 5.x + Node.js 22 LTS
- **数据库**: Supabase (PostgreSQL)
- **平台支持**: 微信小程序、小红书小程序、H5 网页

## 项目结构

```
star-vast-village/
├── frontend/          # 前端项目（Taro 多端应用）
├── backend/           # 后端项目（Express API 服务）
├── docs/              # 项目文档
│   ├── TECH_ARCHITECTURE.md    # 技术架构文档
│   ├── DATABASE_SCHEMA.md      # 数据库设计文档
│   ├── DEPLOYMENT.md           # 部署指南
│   ├── DEVELOPMENT.md          # 开发规范
│   └── QUICK_START.md          # 快速启动指南
├── examples/          # 配置文件示例
└── README.md
```

## 快速开始

详细的启动指南请查看 [`docs/QUICK_START.md`](docs/QUICK_START.md)

### 前端开发

```bash
cd frontend
npm install
npm run dev:weapp    # 微信小程序
npm run dev:xhs      # 小红书小程序
npm run dev:h5       # H5 网页
```

### 后端开发

```bash
cd backend
npm install
npm run dev          # 启动开发服务器
```

## 文档导航

- 📖 [技术架构文档](docs/TECH_ARCHITECTURE.md) - 详细的技术选型和架构设计
- 🗄️ [数据库设计文档](docs/DATABASE_SCHEMA.md) - 完整的数据库表结构设计
- 🚀 [部署指南](docs/DEPLOYMENT.md) - 生产环境部署步骤
- 📝 [开发规范](docs/DEVELOPMENT.md) - 代码规范和最佳实践
- ⚡ [快速启动指南](docs/QUICK_START.md) - 15 分钟快速搭建开发环境

---

## 一、 核心原则与定位

1.  **服务对象**：小区内的**住户**、**商家**，以及**物业/社区志愿者**（作为管理者）。
2.  **核心价值**：提供一个**信息透明**、**服务高效**、**邻里互助**的数字化平台。
3.  **运营原则**：
    *   **MVP优先**：先用最小功能闭环验证需求，快速上线，再迭代。
    *   **数据安全**：严格遵守隐私法规，仅收集必要信息，用户数据是红线。
    *   **财务透明**：所有捐赠和支出（服务器、域名等）必须公开，建立信任。

## 二、 实践路径：三步走战略

### 第一步：MVP 启动期 (1-2个月)

此阶段的目标是**快速上线核心功能，验证社区的接受度和需求强度**。

*   **核心功能**：
    1.  **住户认证**：建立社区信任的基石。住户需提供楼栋门牌号，由物业或志愿者管理员审核。
    2.  **社区公告**：物业或管理员发布官方通知。
    3.  **商家黄页**：收录小区周边商家信息，仅提供信息，不做线上交易。
    4.  **邻里互助/失物招领**：一个简单的BBS板块。
    5.  **捐赠与公示**：设置简单的捐赠入口，并手动更新财务公开页面。



### 第二步：功能拓展期 (3-6个月)

根据用户反馈，增加提升便利性的功能。

*   **新增功能**：
    1.  **在线报修**：住户可在线提交报修工单（文字+图片），物业接单并更新处理状态。
    2.  **公共设施预约**：如小区活动室、篮球场等。
    3.  **投票/问卷**：用于社区公共事务的意见征集。
    4.  **智能订阅通知**：利用小程序订阅消息，在关键事件时发送提醒。


### 第三步：生态建设与长期运营期 (6个月以后)

重点转向**社区文化建设和可持续运营**。

*   **运营重点**：
    1.  **志愿者体系**：招募热心业主成为内容审核员、活动组织者。
    2.  **社区活动**：线上发起，线下组织，如跳蚤市场、兴趣小组等。
    3.  **财务自动化**：将捐赠和支出通过云函数自动记录到“财务公开”数据库。
    4.  **开源协作**：可以将项目在 **GitHub** 上开源，吸引技术爱好者参与贡献。

## 三、 技术与合规方案要点

*   **数据模型 (示例)**：
    *   `users` (用户表): openid, 认证状态, 楼栋单元信息, 角色
    *   `posts` (信息发布表): 类型, 内容, 图片, 发布者, 状态
    *   `merchants` (商家表): 名称, 分类, 联系方式, 地址
    *   `donations` (捐赠表): 金额, 捐赠时间 (为保护隐私，不记名或用昵称)
    *   `ledgers` (收支账本): 类型(收入/支出), 金额, 事由, 日期

*   **合规与风控**：
    *   **隐私政策**：上线前必须配置《用户隐私协议》。
    *   **内容安全**：接入微信的内容安全接口，过滤违规内容。
    *   **捐赠定性**：明确声明“**自愿捐赠，用于服务器及运营开销，无任何商业回报**”。

## 四、 成本估算

*   **开发成本**：若自行开发，人力成本可控。
*   **服务器成本**：初期使用微信云开发，**约等于0元**。中后期每月可能产生几十到一百元费用。
*   **其他成本**：小程序认证费每年300元.